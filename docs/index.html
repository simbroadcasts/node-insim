<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>node-insim</title><meta name="description" content="Documentation for node-insim"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">node-insim</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>node-insim</h2></div><div class="tsd-panel tsd-typography"><a id="md:node-insim" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Node InSim<a href="#md:node-insim" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><img src="https://simbroadcasts.tv/assets/node-insim/node-insim-icon-256.png" width="100px" align="right" hspace="15">
<p><a href="https://www.npmjs.com/package/node-insim"><img src="https://img.shields.io/npm/v/node-insim?style=flat-square" alt="NPM Version"></a> <img src="https://github.com/simbroadcasts/node-insim/actions/workflows/.github/workflows/validate.yml/badge.svg" alt="Node.js CI"> <a href="https://github.com/simbroadcasts/node-insim/actions"><img src="https://simbroadcasts.github.io/node-insim/badges/coverage.svg" alt="cov"></a></p>
<p>An <a href="https://en.lfsmanual.net/wiki/InSim.txt">InSim</a> library for Node.js with
TypeScript support.</p>
<a id="md:introduction" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Introduction<a href="#md:introduction" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Node InSim provides a JavaScript API to communicate with the <a href="https://www.lfs.net/">Live for Speed</a>
InSim protocol over a TCP connection. After connecting to an LFS host via a hostname
and a port, you are able to send InSim packets to the host and receive incoming
packets from the host.</p>
<p>All packet structures in Node InSim are identical to the structs defined in the
<a href="https://en.lfsmanual.net/wiki/InSim.txt">InSim protocol</a>. All packet classes with all their properties are documented
according to the specification.</p>
<a id="md:insim-compatibility" class="tsd-anchor"></a><h3 class="tsd-anchor-link">InSim compatibility<a href="#md:insim-compatibility" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Node InSim is compatible with InSim version 9.</p>
<a id="md:installation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Installation<a href="#md:installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Install the <code>node-insim</code> NPM package in your Node.js application:</p>
<pre><code class="shell"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-3">--save</span><span class="hl-1"> </span><span class="hl-2">node-insim</span>
</code><button type="button">Copy</button></pre>

<p>or if you use Yarn:</p>
<pre><code class="shell"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">node-insim</span>
</code><button type="button">Copy</button></pre>

<a id="md:usage" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Usage<a href="#md:usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:connecting" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Connecting<a href="#md:connecting" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To connect to an LFS host, you must enter its hostname, a port and a short name of
your InSim application.</p>
<p>The InSim port must be configured in the LFS host settings. Also, make sure the public
IP address from which your application is connecting is allowed to connect to the host's
InSim port.</p>
<a id="md:single-host" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Single host<a href="#md:single-host" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">InSim</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;node-insim&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">inSim</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">InSim</span><span class="hl-1">();</span><br/><br/><span class="hl-5">inSim</span><span class="hl-1">.</span><span class="hl-0">connect</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">Host:</span><span class="hl-1"> </span><span class="hl-2">&#39;127.0.0.1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">Port:</span><span class="hl-1"> </span><span class="hl-7">29999</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">IName:</span><span class="hl-1"> </span><span class="hl-2">&#39;Node InSim App&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:multiple-hosts" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Multiple hosts<a href="#md:multiple-hosts" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>To connect to multiple hosts at once, create a new <code>InSim</code> instance for each host.</p>
<pre><code class="ts"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">InSim</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;node-insim&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">inSim1</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">InSim</span><span class="hl-1">();</span><br/><br/><span class="hl-5">inSim1</span><span class="hl-1">.</span><span class="hl-0">connect</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">Host:</span><span class="hl-1"> </span><span class="hl-2">&#39;127.0.0.1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">Port:</span><span class="hl-1"> </span><span class="hl-7">29999</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">IName:</span><span class="hl-1"> </span><span class="hl-2">&#39;Node InSim App&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">inSim2</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">InSim</span><span class="hl-1">();</span><br/><br/><span class="hl-5">inSim2</span><span class="hl-1">.</span><span class="hl-0">connect</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">Host:</span><span class="hl-1"> </span><span class="hl-2">&#39;127.0.0.2&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">Port:</span><span class="hl-1"> </span><span class="hl-7">30000</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">IName:</span><span class="hl-1"> </span><span class="hl-2">&#39;Node InSim App&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:tcp--udp" class="tsd-anchor"></a><h4 class="tsd-anchor-link">TCP / UDP<a href="#md:tcp--udp" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>By default, Node InSim opens a TCP connection. If you want to use UDP,
set the <code>Protocol</code> option to <code>UDP</code> in the <code>connect</code> function.</p>
<pre><code class="ts"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">InSim</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;node-insim&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">inSim</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">InSim</span><span class="hl-1">();</span><br/><br/><span class="hl-5">inSim</span><span class="hl-1">.</span><span class="hl-0">connect</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">Host:</span><span class="hl-1"> </span><span class="hl-2">&#39;127.0.0.1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">Port:</span><span class="hl-1"> </span><span class="hl-7">29999</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">IName:</span><span class="hl-1"> </span><span class="hl-2">&#39;Node InSim App&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">Protocol:</span><span class="hl-1"> </span><span class="hl-2">&#39;UDP&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:sending-packets" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Sending packets<a href="#md:sending-packets" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>InSim packets can be sent using the <code>send()</code> method on the <code>InSim</code> class instance,
which takes a single argument - the packet class instance.</p>
<p>A fast way to set packet properties is to populate them in the class constructor:</p>
<pre><code class="ts"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">InSim</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;node-insim&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">IS_TINY</span><span class="hl-1">, </span><span class="hl-5">TinyType</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;node-insim/packets&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">inSim</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">InSim</span><span class="hl-1">();</span><br/><br/><span class="hl-5">inSim</span><span class="hl-1">.</span><span class="hl-0">connect</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">Host:</span><span class="hl-1"> </span><span class="hl-2">&#39;127.0.0.1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">Port:</span><span class="hl-1"> </span><span class="hl-7">29999</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">IName:</span><span class="hl-1"> </span><span class="hl-2">&#39;Node InSim App&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">inSim</span><span class="hl-1">.</span><span class="hl-0">send</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">IS_TINY</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-5">ReqI:</span><span class="hl-1"> </span><span class="hl-7">1</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">SubT:</span><span class="hl-1"> </span><span class="hl-5">TinyType</span><span class="hl-1">.</span><span class="hl-6">TINY_PING</span><span class="hl-1">,</span><br/><span class="hl-1">  }),</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>Another way is to assign each property after creating the instance:</p>
<pre><code class="ts"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">InSim</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;node-insim&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">IS_TINY</span><span class="hl-1">, </span><span class="hl-5">TinyType</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;node-insim/packets&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">inSim</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">InSim</span><span class="hl-1">();</span><br/><br/><span class="hl-5">inSim</span><span class="hl-1">.</span><span class="hl-0">connect</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">Host:</span><span class="hl-1"> </span><span class="hl-2">&#39;127.0.0.1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">Port:</span><span class="hl-1"> </span><span class="hl-7">29999</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">IName:</span><span class="hl-1"> </span><span class="hl-2">&#39;Node InSim App&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">pingPacket</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">IS_TINY</span><span class="hl-1">();</span><br/><span class="hl-5">pingPacket</span><span class="hl-1">.</span><span class="hl-5">ReqI</span><span class="hl-1"> = </span><span class="hl-7">1</span><span class="hl-1">;</span><br/><span class="hl-5">pingPacket</span><span class="hl-1">.</span><span class="hl-5">SubT</span><span class="hl-1"> = </span><span class="hl-5">TinyType</span><span class="hl-1">.</span><span class="hl-6">TINY_PING</span><span class="hl-1">;</span><br/><br/><span class="hl-5">inSim</span><span class="hl-1">.</span><span class="hl-0">send</span><span class="hl-1">(</span><span class="hl-5">pingPacket</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="md:receiving-packets" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Receiving packets<a href="#md:receiving-packets" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>InSim</code> class exposes an <code>on()</code> method, which is used to listen for incoming
packets by their type.</p>
<pre><code class="ts"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">InSim</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;node-insim&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-4">type</span><span class="hl-1"> { </span><span class="hl-5">IS_VER</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;node-insim/packets&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">PacketType</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;node-insim/packets&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">inSim</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">InSim</span><span class="hl-1">();</span><br/><br/><span class="hl-5">inSim</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-5">PacketType</span><span class="hl-1">.</span><span class="hl-6">ISP_VER</span><span class="hl-1">, </span><span class="hl-5">onVersion</span><span class="hl-1">);</span><br/><br/><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">onVersion</span><span class="hl-1">(</span><span class="hl-5">packet</span><span class="hl-1">: </span><span class="hl-8">IS_VER</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Connected to LFS </span><span class="hl-3">${</span><span class="hl-5">packet</span><span class="hl-9">.</span><span class="hl-5">product</span><span class="hl-3">}</span><span class="hl-2"> </span><span class="hl-3">${</span><span class="hl-5">packet</span><span class="hl-9">.</span><span class="hl-5">Version</span><span class="hl-3">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>The event callback contains the received packet, and an optional second argument - the
<code>InSim</code> instance which received that packet. You can use that instance to send
additional packets in response.</p>
<pre><code class="ts"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">InSim</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;node-insim&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">PacketType</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;node-insim/packets&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-4">type</span><span class="hl-1"> { </span><span class="hl-5">IS_VER</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;node-insim/packets&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">inSim</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">InSim</span><span class="hl-1">();</span><br/><br/><span class="hl-5">inSim</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-5">PacketType</span><span class="hl-1">.</span><span class="hl-6">ISP_VER</span><span class="hl-1">, </span><span class="hl-5">onVersion</span><span class="hl-1">);</span><br/><br/><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">onVersion</span><span class="hl-1">(</span><span class="hl-5">packet</span><span class="hl-1">: </span><span class="hl-8">IS_VER</span><span class="hl-1">, </span><span class="hl-5">inSim</span><span class="hl-1">: </span><span class="hl-8">InSim</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-5">inSim</span><span class="hl-1">.</span><span class="hl-0">send</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">IS_TINY</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-5">ReqI:</span><span class="hl-1"> </span><span class="hl-7">1</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">SubT:</span><span class="hl-1"> </span><span class="hl-5">TinyType</span><span class="hl-1">.</span><span class="hl-6">TINY_PING</span><span class="hl-1">,</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">  );</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:multiple-hosts-1" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Multiple hosts<a href="#md:multiple-hosts-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>You can use the <code>inSim</code> argument in the event handler callback to identify the source
host of the received packets, for instance by the <code>options.Host</code> property.</p>
<p>Alternatively, the <code>InSim</code> class constructor accepts an optional <code>id</code> argument, which
can also be used to tell apart the InSim connections.</p>
<pre><code class="ts"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">InSim</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;node-insim&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">inSim1</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">InSim</span><span class="hl-1">(</span><span class="hl-2">&#39;Host One&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-5">inSim1</span><span class="hl-1">.</span><span class="hl-0">connect</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">Host:</span><span class="hl-1"> </span><span class="hl-2">&#39;127.0.0.1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">Port:</span><span class="hl-1"> </span><span class="hl-7">29999</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">IName:</span><span class="hl-1"> </span><span class="hl-2">&#39;Node InSim App&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">inSim2</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">InSim</span><span class="hl-1">(</span><span class="hl-2">&#39;Host Two&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-5">inSim2</span><span class="hl-1">.</span><span class="hl-0">connect</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">Host:</span><span class="hl-1"> </span><span class="hl-2">&#39;127.0.0.2&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">Port:</span><span class="hl-1"> </span><span class="hl-7">30000</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">IName:</span><span class="hl-1"> </span><span class="hl-2">&#39;Node InSim App&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">inSim</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-5">PacketType</span><span class="hl-1">.</span><span class="hl-6">ISP_VER</span><span class="hl-1">, </span><span class="hl-5">onVersion</span><span class="hl-1">);</span><br/><br/><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">onVersion</span><span class="hl-1">(</span><span class="hl-5">packet</span><span class="hl-1">: </span><span class="hl-8">IS_VER</span><span class="hl-1">, </span><span class="hl-5">inSim</span><span class="hl-1">: </span><span class="hl-8">InSim</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Connected to </span><span class="hl-3">${</span><span class="hl-5">inSim</span><span class="hl-9">.</span><span class="hl-5">options</span><span class="hl-9">.</span><span class="hl-5">Host</span><span class="hl-3">}</span><span class="hl-2">:</span><span class="hl-3">${</span><span class="hl-5">inSim</span><span class="hl-9">.</span><span class="hl-5">options</span><span class="hl-9">.</span><span class="hl-5">Port</span><span class="hl-3">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">inSim</span><span class="hl-1">.</span><span class="hl-5">id</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`InSim connection ID: </span><span class="hl-3">${</span><span class="hl-5">inSim</span><span class="hl-9">.</span><span class="hl-5">id</span><span class="hl-3">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:string-encoding" class="tsd-anchor"></a><h3 class="tsd-anchor-link">String encoding<a href="#md:string-encoding" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>All strings in received or sent packets are automatically converted from LFS encoding to
Unicode and vice versa.</p>
<p>If you need to access the raw LFS-encoded string in a received packet, use the <code>_raw</code>
property in the packet instance, which contains all unconverted string properties.</p>
<pre><code class="ts"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">InSim</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;node-insim&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">PacketType</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;node-insim/packets&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-4">type</span><span class="hl-1"> { </span><span class="hl-5">IS_ISM</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;node-insim/packets&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">inSim</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">InSim</span><span class="hl-1">();</span><br/><br/><span class="hl-5">inSim</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-5">PacketType</span><span class="hl-1">.</span><span class="hl-6">ISP_ISM</span><span class="hl-1">, (</span><span class="hl-5">packet</span><span class="hl-1">: </span><span class="hl-8">IS_ISM</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">packet</span><span class="hl-1">.</span><span class="hl-5">HName</span><span class="hl-1">); </span><span class="hl-10">// UTF-8 string - ^1Drifter Team ^7★ Server</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">packet</span><span class="hl-1">.</span><span class="hl-5">_raw</span><span class="hl-1">.</span><span class="hl-5">HName</span><span class="hl-1">); </span><span class="hl-10">// raw string - ^1Drifter Team ^7^J Server\u0000\u0000\u0000\u0000</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>When you send a Unicode string value in a packet, each character will get encoded into
the correct LFS encoding, so LFS can display the text in a message or a button.</p>
<pre><code class="ts"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">InSim</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;node-insim&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">PacketType</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;node-insim/packets&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-4">type</span><span class="hl-1"> { </span><span class="hl-5">IS_MSL</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;node-insim/packets&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">inSim</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">InSim</span><span class="hl-1">();</span><br/><br/><span class="hl-5">inSim</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-5">PacketType</span><span class="hl-1">.</span><span class="hl-6">ISP_VER</span><span class="hl-1">, (</span><span class="hl-5">packet</span><span class="hl-1">: </span><span class="hl-8">IS_VER</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">inSim</span><span class="hl-1">.</span><span class="hl-0">send</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">IS_MSL</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-5">Msg:</span><span class="hl-1"> </span><span class="hl-2">&#39;čau světe&#39;</span><span class="hl-1">, </span><span class="hl-10">// LFS will receive: ^Eèau svìte</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">  );</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:insim-relay" class="tsd-anchor"></a><h3 class="tsd-anchor-link">InSim Relay<a href="#md:insim-relay" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To connect to the InSim Relay service, use the <code>connectRelay()</code> method. Once connected,
you can send and receive relay packets. The following example demonstrates how to show a
list of hosts connected to the InSim Relay:</p>
<pre><code class="ts"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">InSim</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;node-insim&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">IR_HLR</span><span class="hl-1">, </span><span class="hl-5">IR_HOS</span><span class="hl-1">, </span><span class="hl-5">PacketType</span><span class="hl-1">, </span><span class="hl-5">HInfo</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;node-insim/packets&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">inSim</span><span class="hl-1">.</span><span class="hl-0">connectRelay</span><span class="hl-1">();</span><br/><br/><span class="hl-5">inSim</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&#39;connect&#39;</span><span class="hl-1">, () </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-10">// Request a list of hosts</span><br/><span class="hl-1">  </span><span class="hl-5">inSim</span><span class="hl-1">.</span><span class="hl-0">send</span><span class="hl-1">(</span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">IR_HLR</span><span class="hl-1">());</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">inSim</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-5">PacketType</span><span class="hl-1">.</span><span class="hl-6">IRP_HOS</span><span class="hl-1">, (</span><span class="hl-5">packet</span><span class="hl-1">: </span><span class="hl-8">IR_HOS</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-10">// Log the name of each received host</span><br/><span class="hl-1">  </span><span class="hl-5">packet</span><span class="hl-1">.</span><span class="hl-5">Info</span><span class="hl-1">.</span><span class="hl-0">forEach</span><span class="hl-1">((</span><span class="hl-5">host</span><span class="hl-1">: </span><span class="hl-8">HInfo</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">host</span><span class="hl-1">.</span><span class="hl-5">HName</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>More information about the InSim Relay protocol can be found in the <a href="https://www.lfs.net/forum/thread/30740">InSim Relay client
information</a> thread on LFS forum.</p>
<a id="md:outgauge" class="tsd-anchor"></a><h3 class="tsd-anchor-link">OutGauge<a href="#md:outgauge" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="ts"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">OutGauge</span><span class="hl-1">, </span><span class="hl-5">OutGaugePack</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;node-insim&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">outGauge</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">OutGauge</span><span class="hl-1">();</span><br/><br/><span class="hl-5">outGauge</span><span class="hl-1">.</span><span class="hl-0">connect</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">Host:</span><span class="hl-1"> </span><span class="hl-2">&#39;127.0.0.1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">Port:</span><span class="hl-1"> </span><span class="hl-7">29999</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">outGauge</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&#39;packet&#39;</span><span class="hl-1">, (</span><span class="hl-5">data</span><span class="hl-1">: </span><span class="hl-8">OutGaugePack</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">clear</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">data</span><span class="hl-1">.</span><span class="hl-6">RPM</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:outsim" class="tsd-anchor"></a><h3 class="tsd-anchor-link">OutSim<a href="#md:outsim" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="ts"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">OutSim</span><span class="hl-1">, </span><span class="hl-5">OutSimPack</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;node-insim&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">outSim</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">OutSim</span><span class="hl-1">();</span><br/><br/><span class="hl-5">outSim</span><span class="hl-1">.</span><span class="hl-0">connect</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">Host:</span><span class="hl-1"> </span><span class="hl-2">&#39;127.0.0.1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">Port:</span><span class="hl-1"> </span><span class="hl-7">29999</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">outSim</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&#39;packet&#39;</span><span class="hl-1">, (</span><span class="hl-5">data</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-10">// Make sure the simple OutSimPack packet is really received, as opposed to OutSimPack2</span><br/><span class="hl-1">  </span><span class="hl-4">if</span><span class="hl-1"> (!(</span><span class="hl-5">data</span><span class="hl-1"> </span><span class="hl-3">instanceof</span><span class="hl-1"> </span><span class="hl-8">OutSimPack</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">clear</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">data</span><span class="hl-1">.</span><span class="hl-5">PosX</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:debugging" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Debugging<a href="#md:debugging" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Node InSim uses the <a href="https://github.com/debug-js/debug"><code>debug</code> NPM package</a> for debug
logs. By default, Node InSim does not output any logs to the standard output.</p>
<p>To enable logging, use the <code>DEBUG</code> environment variable when running your InSim
application. All logs are prefixed with <code>node-insim</code>. You can use wildcards to filter
out the logs that you need.</p>
<pre><code class="sh"><span class="hl-5">DEBUG</span><span class="hl-1">=</span><span class="hl-2">*</span><span class="hl-1"> </span><span class="hl-0">node</span><span class="hl-1"> </span><span class="hl-2">insim.js</span><span class="hl-1"> </span><span class="hl-10"># debug all messages</span><br/><span class="hl-5">DEBUG</span><span class="hl-1">=</span><span class="hl-2">node-insim:tcp</span><span class="hl-1"> </span><span class="hl-0">node</span><span class="hl-1"> </span><span class="hl-2">insim.js</span><span class="hl-1"> </span><span class="hl-10"># debug only TCP protocol messages</span>
</code><button type="button">Copy</button></pre>

<a id="md:example-applications" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Example applications<a href="#md:example-applications" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>You can find example applications using Node InSim in the <a href="./examples">examples</a> folder.</p>
<table>
<thead>
<tr>
<th>Example</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>InSim connection</td>
<td><a href="./examples/javascript/insim-connection">JavaScript + CJS</a></td>
<td><a href="./examples/typescript/insim-connection">TypeScript + ESM</a></td>
</tr>
<tr>
<td>InSim connection (multiple hosts)</td>
<td><a href="./examples/javascript/insim-multiple-hosts">JavaScript + CJS</a></td>
<td><a href="./examples/typescript/insim-multiple-hosts">TypeScript + ESM</a></td>
</tr>
<tr>
<td>InSim connection (UDP)</td>
<td><a href="./examples/javascript/insim-connection-udp">JavaScript + CJS</a></td>
<td><a href="./examples/typescript/insim-connection-udp">TypeScript + ESM</a></td>
</tr>
<tr>
<td>InSim Relay</td>
<td><a href="./examples/javascript/insim-relay">JavaScript + CJS</a></td>
<td><a href="./examples/typescript/insim-relay">TypeScript + ESM</a></td>
</tr>
<tr>
<td>OutGauge</td>
<td><a href="./examples/javascript/outgauge">JavaScript + CJS</a></td>
<td><a href="./examples/typescript/outgauge">TypeScript + ESM</a></td>
</tr>
<tr>
<td>OutGauge with InSim buttons</td>
<td><a href="./examples/javascript/outgauge-buttons">JavaScript + CJS</a></td>
<td><a href="./examples/typescript/outgauge-buttons">TypeScript + ESM</a></td>
</tr>
<tr>
<td>OutSim</td>
<td><a href="./examples/javascript/outsim-basic">JavaScript + CJS</a></td>
<td><a href="./examples/typescript/outsim-basic">TypeScript + ESM</a></td>
</tr>
<tr>
<td>OutSim with Options</td>
<td><a href="./examples/javascript/outsim-advanced">JavaScript + CJS</a></td>
<td><a href="./examples/typescript/outsim-advanced">TypeScript + ESM</a></td>
</tr>
</tbody>
</table>
<p>Before you run an example, follow the instructions in each example's <code>README.md</code> file.</p>
<p>For instance, to run the &quot;InSim connection - TypeScript&quot; example, run the following
commands:</p>
<pre><code class="shell"><span class="hl-0">cd</span><span class="hl-1"> </span><span class="hl-2">examples/typescript/insim-connection</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">start</span>
</code><button type="button">Copy</button></pre>

<a id="md:development" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Development<a href="#md:development" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:requirements" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Requirements<a href="#md:requirements" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Node.js 18</li>
<li>Yarn</li>
</ul>
<a id="md:start-a-development-server" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Start a development server<a href="#md:start-a-development-server" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="shell"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">dev</span>
</code><button type="button">Copy</button></pre>

<a id="md:code-generators" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Code generators<a href="#md:code-generators" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>When adding new InSim packets to the library, you can use built-in code generators
using <code>yarn generate</code>. It will create and update all the necessary files for you.</p>
<a id="md:run-unit-tests" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Run unit tests<a href="#md:run-unit-tests" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="shell"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">test</span><br/><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">test:watch</span>
</code><button type="button">Copy</button></pre>

<a id="md:run-tests-against-a-real-lfs-application" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Run tests against a real LFS application<a href="#md:run-tests-against-a-real-lfs-application" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To run these tests, LFS must be running with an InSim port open.</p>
<p>By default, the tests connect to <code>127.0.0.1:29999</code>. The InSim host and port can be configured by copying <code>.env</code> to <code>.env.local</code> in the <code>lfs-test</code> directory.</p>
<pre><code class="shell"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">test:lfs</span>
</code><button type="button">Copy</button></pre>

<a id="md:build-all-example-applications" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Build all example applications<a href="#md:build-all-example-applications" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>This command will go through each application in the <code>examples/</code> folder,
install its dependencies, then build the application (typescript only).</p>
<pre><code class="shell"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">test:examples</span>
</code><button type="button">Copy</button></pre>

<a id="md:lint-code" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Lint code<a href="#md:lint-code" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="shell"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">lint</span>
</code><button type="button">Copy</button></pre>

<a id="md:format-code" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Format code<a href="#md:format-code" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="shell"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">format</span>
</code><button type="button">Copy</button></pre>

<a id="md:production-build" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Production build<a href="#md:production-build" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Compiled files will be created in <code>dist/</code>.</p>
<pre><code class="shell"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">build</span>
</code><button type="button">Copy</button></pre>

<a id="md:run-all-checks-at-once" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Run all checks at once<a href="#md:run-all-checks-at-once" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>You can run code format, lint + fix, build and test with the following command:</p>
<pre><code class="shell"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">check-all</span>
</code><button type="button">Copy</button></pre>

<hr>
<p><img src="https://simbroadcasts.tv/assets/node-insim/node-insim-footer.png" alt="Node Insim - An open source project by Sim Broadcasts"></p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:node-insim"><span>Node <wbr/>In<wbr/>Sim</span></a><ul><li><a href="#md:introduction"><span>Introduction</span></a></li><li><ul><li><a href="#md:insim-compatibility"><span>In<wbr/>Sim compatibility</span></a></li></ul></li><li><a href="#md:installation"><span>Installation</span></a></li><li><a href="#md:usage"><span>Usage</span></a></li><li><ul><li><a href="#md:connecting"><span>Connecting</span></a></li><li><ul><li><a href="#md:single-host"><span>Single host</span></a></li><li><a href="#md:multiple-hosts"><span>Multiple hosts</span></a></li><li><a href="#md:tcp--udp"><span>TCP / UDP</span></a></li></ul></li><li><a href="#md:sending-packets"><span>Sending packets</span></a></li><li><a href="#md:receiving-packets"><span>Receiving packets</span></a></li><li><ul><li><a href="#md:multiple-hosts-1"><span>Multiple hosts</span></a></li></ul></li><li><a href="#md:string-encoding"><span>String encoding</span></a></li><li><a href="#md:insim-relay"><span>In<wbr/>Sim <wbr/>Relay</span></a></li><li><a href="#md:outgauge"><span>Out<wbr/>Gauge</span></a></li><li><a href="#md:outsim"><span>Out<wbr/>Sim</span></a></li><li><a href="#md:debugging"><span>Debugging</span></a></li></ul></li><li><a href="#md:example-applications"><span>Example applications</span></a></li><li><a href="#md:development"><span>Development</span></a></li><li><ul><li><a href="#md:requirements"><span>Requirements</span></a></li><li><a href="#md:start-a-development-server"><span>Start a development server</span></a></li><li><a href="#md:code-generators"><span>Code generators</span></a></li><li><a href="#md:run-unit-tests"><span>Run unit tests</span></a></li><li><a href="#md:run-tests-against-a-real-lfs-application"><span>Run tests against a real LFS application</span></a></li><li><a href="#md:build-all-example-applications"><span>Build all example applications</span></a></li><li><a href="#md:lint-code"><span>Lint code</span></a></li><li><a href="#md:format-code"><span>Format code</span></a></li><li><a href="#md:production-build"><span>Production build</span></a></li><li><a href="#md:run-all-checks-at-once"><span>Run all checks at once</span></a></li></ul></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="index.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>node-insim</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
